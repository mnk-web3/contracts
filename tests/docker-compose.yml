version: "3.7"
services:
  compiler:
    # Store compilation metadata, which is used by the tester
    volumes:
      - "./build:/usr/src/app/build"
    network_mode: host
    image: compiler
    depends_on:
      - blockchain
  blockchain:
    network_mode: host
    image: ganache
  tester:
    network_mode: host
    image: tester
    depends_on:
      - compiler
      - blockchain
    # Reed this to get ABI and contract's address
    volumes:
      - "./build:/usr/src/app/build"
